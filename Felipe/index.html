

New Chat
OK Computer
Researcher
Slides
Nano Banana Free
Mapa JS
Mejores sitios audiovisuales
IA gratis inglés y voz
Código Edge IA Chile
YouTube frame capture range
Mobile App
Mapa JS
Hazme un diagrama mindmap
  root((Grupo A: Experiencias Artísticas y Bienestar en Salud Mental))
    t1["Tema 1: Vida Cotidiana, Malestares y Estrategias para Sostenerse"]
      v1(Violeta)
        vm1(Malestar: Tesis prolongada (3 años, \"gran malestar\"))
        vr1(Rutina: Desorganizada, \"corriendo\", cansancio al despertar)
        ve1(Estrategias: Ignorar/insistir en tesis, guitarra, poemas, \"tomar oncecita\" con familia)
        vc1(Consumo: Marihuana como estrategia y problema)
      h1(Humberto)
        hr1(Rutina: Tareas domésticas, mandados, estudio personal)
        hb1(Bienestar: Lectura como gusto adquirido, \"estar ocupado\")
      c1(Celeste)
        cr1(Rutina: Doméstica (almuerzo, atender marido, descansar))
        cm1(Malestar: Inseguridad social (\"no se puede salir confiado\"))
        cb1(Bienestar: Familia sana y tranquila)
      g1(Gabriela)
        ga1(Autovalencia: Gestiones sola (compras, médico))
        ge1(Estrategias: Distancia de conflictos, refugio en casa y animales (\"soy feliz acá\"))
    t2["Tema 2: Redes de Cuidado, Desamparo y Experiencias de Desigualdad"]
      v2(Violeta)
        va1(Apoyo: Madre (\"confío en ella para todo\"))
        vc2(Conflicto: Hermanas (distancia, no saludan))
        vp1(Percepción: Si \"débil\", otros \"pasan sobre ti\"))
      h2(Humberto)
        ha1(Apoyo: Familia y amigos (conversar, relajarse))
        hc1(Crítica: Desigualdad económica (\"más dinero = ventajas\"), brechas de discriminación)
      c2(Celeste)
        ca1(Apoyo: Familia (hijos, nietos, marido) y grupo de señoras (conversar, tomar once))
        cm2(Malestar: Inseguridad y violencia social)
        cc1(Cambio: Diversidades antes \"mal vistas\", ahora menos estigma)
      g2(Gabriela)
        gd1(Desamparo: Infancia \"pobre del cuidado\", no material)
        gr1(Relaciones: Tensas con hermanas, no \"amigas de partner\"))
        gd2(Discriminación: Laboral por edad (\"confunden vejez con estupidez\"))
    t3["Tema 3: Taller y Arte como Espacio de Cuidado, Activación y Reconfiguración Subjetiva"]
      l1(Llegada al Taller)
        lm1(Mediación: Derivados de salud mental (ambulatorio, psicóloga) o sindicato)
        le1(Ejemplos: Violeta (teatro-terapia), Celeste
Copy
Share
Avatar
Kimi
Claro, aquí tienes un diagrama mindmap en formato de texto, basado en la estructura que diste. Está organizado jerárquicamente para que puedas visualizarlo fácilmente o usarlo como base para un software de mapas mentales (como MindMeister, XMind, etc.):
Copy
root((Grupo A: Experiencias Artísticas y Bienestar en Salud Mental))
│
├── Tema 1: Vida Cotidiana, Malestares y Estrategias para Sostenerse
│   │
│   ├── Violeta
│   │   ├── Malestar: Tesis prolongada (3 años, "gran malestar")
│   │   ├── Rutina: Desorganizada, "corriendo", cansancio al despertar
│   │   ├── Estrategias: Ignorar/insistir en tesis, guitarra, poemas, "tomar oncecita" con familia
│   │   └── Consumo: Marihuana como estrategia y problema
│   │
│   ├── Humberto
│   │   ├── Rutina: Tareas domésticas, mandados, estudio personal
│   │   └── Bienestar: Lectura como gusto adquirido, "estar ocupado"
│   │
│   ├── Celeste
│   │   ├── Rutina: Doméstica (almuerzo, atender marido, descansar)
│   │   ├── Malestar: Inseguridad social ("no se puede salir confiado")
│   │   └── Bienestar: Familia sana y tranquila
│   │
│   └── Gabriela
│       ├── Autovalencia: Gestiones sola (compras, médico)
│       └── Estrategias: Distancia de conflictos, refugio en casa y animales ("soy feliz acá")
│
├── Tema 2: Redes de Cuidado, Desamparo y Experiencias de Desigualdad
│   │
│   ├── Violeta
│   │   ├── Apoyo: Madre ("confío en ella para todo")
│   │   ├── Conflicto: Hermanas (distancia, no saludan)
│   │   └── Percepción: Si "débil", otros "pasan sobre ti"
│   │
│   ├── Humberto
│   │   ├── Apoyo: Familia y amigos (conversar, relajarse)
│   │   └── Crítica: Desigualdad económica ("más dinero = ventajas"), brechas de discriminación
│   │
│   ├── Celeste
│   │   ├── Apoyo:
Output stopped
Hazlo en Javascript en un html mindmap
  root((Grupo A: Experiencias Artísticas y Bienestar en Salud Mental))
    t1["Tema 1: Vida Cotidiana, Malestares y Estrategias para Sostenerse"]
      v1(Violeta)
        vm1(Malestar: Tesis prolongada (3 años, \"gran malestar\"))
        vr1(Rutina: Desorganizada, \"corriendo\", cansancio al despertar)
        ve1(Estrategias: Ignorar/insistir en tesis, guitarra, poemas, \"tomar oncecita\" con familia)
        vc1(Consumo: Marihuana como estrategia y problema)
      h1(Humberto)
        hr1(Rutina: Tareas domésticas, mandados, estudio personal)
        hb1(Bienestar: Lectura como gusto adquirido, \"estar ocupado\")
      c1(Celeste)
        cr1(Rutina: Doméstica (almuerzo, atender marido, descansar))
        cm1(Malestar: Inseguridad social (\"no se puede salir confiado\"))
        cb1(Bienestar: Familia sana y tranquila)
      g1(Gabriela)
        ga1(Autovalencia: Gestiones sola (compras, médico))
        ge1(Estrategias: Distancia de conflictos, refugio en casa y animales (\"soy feliz acá\"))
    t2["Tema 2: Redes de Cuidado, Desamparo y Experiencias de Desigualdad"]
      v2(Violeta)
        va1(Apoyo: Madre (\"confío en ella para todo\"))
        vc2(Conflicto: Hermanas (distancia, no saludan))
        vp1(Percepción: Si \"débil\", otros \"pasan sobre ti\"))
      h2(Humberto)
        ha1(Apoyo: Familia y amigos (conversar, relajarse))
        hc1(Crítica: Desigualdad económica (\"más dinero = ventajas\"), brechas de discriminación)
      c2(Celeste)
        ca1(Apoyo: Familia (hijos, nietos, marido) y grupo de señoras (conversar, tomar once))
        cm2(Malestar: Inseguridad y violencia social)
        cc1(Cambio: Diversidades antes \"mal vistas\", ahora menos estigma)
      g2(Gabriela)
        gd1(Desamparo: Infancia \"pobre del cuidado\", no material)
        gr1(Relaciones: Tensas con hermanas, no \"amigas de partner\"))
        gd2(Discriminación: Laboral por edad (\"confunden vejez con estupidez\"))
    t3["Tema 3: Taller y Arte como Espacio de Cuidado, Activación y Reconfiguración Subjetiva"]
      l1(Llegada al Taller)
        lm1(Mediación: Derivados de salud mental (ambulatorio, psicóloga) o sindicato)
        le1(Ejemplos: Violeta (teatro-terapia), Celeste
Copy
Share
Avatar
Kimi
HTML
Preview
Copy
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MindMap – Grupo A</title>
    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", sans-serif;
            background: #f5f7fa;
            overflow: hidden;
        }
        #canvas {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>

<script>
/* ---------- CONFIGURACIÓN ---------- */
const NODE_W = 220;          // ancho caja texto
const NODE_H = 36;           // alto caja texto
const LEVEL_GAP = 280;       // distancia horizontal entre niveles
const SIB_GAP = 14;          // separación vertical entre hermanos
const FONT = "14px Segoe UI";
const ROOT_COLOR = "#4a90e2";
const TEMA_COLOR = "#50c878";
const PERSON_COLOR = "#f5a623";
const LEAF_COLOR = "#e0e0e0";

/* ---------- DATOS (árbol) ---------- */
const tree = {
    text: "Grupo A: Experiencias Artísticas y Bienestar en Salud Mental",
    color: ROOT_COLOR,
    children: [
        {
            text: "Tema 1: Vida Cotidiana, Malestares y Estrategias para Sostenerse",
            color: TEMA_COLOR,
            children: [
                {
                    text: "Violeta",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Malestar: Tesis prolongada (3 años, \"gran malestar\")", color: LEAF_COLOR},
                        {text: "Rutina: Desorganizada, \"corriendo\", cansancio al despertar", color: LEAF_COLOR},
                        {text: "Estrategias: Ignorar/insistir en tesis, guitarra, poemas, \"tomar oncecita\" con familia", color: LEAF_COLOR},
                        {text: "Consumo: Marihuana como estrategia y problema", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Humberto",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Rutina: Tareas domésticas, mandados, estudio personal", color: LEAF_COLOR},
                        {text: "Bienestar: Lectura como gusto adquirido, \"estar ocupado\"", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Celeste",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Rutina: Doméstica (almuerzo, atender marido, descansar)", color: LEAF_COLOR},
                        {text: "Malestar: Inseguridad social (\"no se puede salir confiado\")", color: LEAF_COLOR},
                        {text: "Bienestar: Familia sana y tranquila", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Gabriela",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Autovalencia: Gestiones sola (compras, médico)", color: LEAF_COLOR},
                        {text: "Estrategias: Distancia de conflictos, refugio en casa y animales (\"soy feliz acá\")", color: LEAF_COLOR}
                    ]
                }
            ]
        },
        {
            text: "Tema 2: Redes de Cuidado, Desamparo y Experiencias de Desigualdad",
            color: TEMA_COLOR,
            children: [
                {
                    text: "Violeta",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Apoyo: Madre (\"confío en ella para todo\")", color: LEAF_COLOR},
                        {text: "Conflicto: Hermanas (distancia, no saludan)", color: LEAF_COLOR},
                        {text: "Percepción: Si \"débil\", otros \"pasan sobre ti\"", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Humberto",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Apoyo: Familia y amigos (conversar, relajarse)", color: LEAF_COLOR},
                        {text: "Crítica: Desigualdad económica (\"más dinero = ventajas\"), brechas de discriminación", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Celeste",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Apoyo: Familia (hijos, nietos, marido) y grupo de señoras (conversar, tomar once)", color: LEAF_COLOR},
                        {text: "Malestar: Inseguridad y violencia social", color: LEAF_COLOR},
                        {text: "Cambio: Diversidades antes \"mal vistas\", ahora menos estigma", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Gabriela",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Desamparo: Infancia \"pobre del cuidado\", no material", color: LEAF_COLOR},
                        {text: "Relaciones: Tensas con hermanas, no \"amigas de partner\"", color: LEAF_COLOR},
                        {text: "Discriminación: Laboral por edad (\"confunden vejez con estupidez\")", color: LEAF_COLOR}
                    ]
                }
            ]
        },
        {
            text: "Tema 3: Taller y Arte como Espacio de Cuidado, Activación y Reconfiguración Subjetiva",
            color: TEMA_COLOR,
            children: [
                {
                    text: "Llegada al Taller",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Mediación: Derivados de salud mental (ambulatorio, psicóloga) o sindicato", color: LEAF_COLOR},
                        {text: "Ejemplos: Violeta (teatro-terapia), Celeste", color: LEAF_COLOR}
                    ]
                }
            ]
        }
    ]
};

/* ---------- DIBUJO ---------- */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = innerWidth * devicePixelRatio;
    canvas.height = innerHeight * devicePixelRatio;
    canvas.style.width = innerWidth + "px";
    canvas.style.height = innerHeight + "px";
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.scale(devicePixelRatio, devicePixelRatio);
}
resize();
addEventListener("resize", resize);

/* cálculo de bounding-box para centrar */
function measureNode(n, level) {
    ctx.font = FONT;
    const metrics = ctx.measureText(n.text);
    n.w = Math.max(NODE_W, metrics.width + 24);
    n.h = NODE_H;
    n.level = level;
    n.x = 0;
    n.y = 0;
    if (!n.children) return {w: n.w, h: n.h};
    let totalH = 0;
    let maxChildW = 0;
    n.children.forEach(ch => {
        const box = measureNode(ch, level + 1);
        totalH += box.h + SIB_GAP;
        maxChildW = Math.max(maxChildW, box.w);
    });
    totalH -= SIB_GAP;
    n.childrenH = totalH;
    n.childrenW = maxChildW;
    return {w: n.w + LEVEL_GAP + maxChildW, h: Math.max(n.h, totalH)};
}

/* asigna coordenadas relativas al nodo padre */
function layout(n, xRef, yRef, isRoot) {
    n.x = xRef;
    n.y = yRef;
    if (!n.children) return;
    let yStart = yRef - n.childrenH / 2;
    n.children.forEach(ch => {
        const chBox = {w: ch.w || NODE_W, h: ch.h || NODE_H};
        if (ch.children) chBox.h = ch.childrenH;
        layout(ch, xRef + n.w + LEVEL_GAP, yStart + chBox.h / 2, false);
        yStart += chBox.h + SIB_GAP;
    });
}

/* renderiza */
function drawNode(n) {
    const x = n.x, y = n.y - n.h / 2;
    /* caja */
    ctx.fillStyle = n.color;
    roundRect(x, y, n.w, n.h, 6);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();
    /* texto */
    ctx.fillStyle = n.color === LEAF_COLOR ? "#222" : "#fff";
    ctx.font = FONT;
    ctx.fillText(n.text, x + 12, y + 22);
    /* líneas a hijos */
    if (n.children) {
        ctx.strokeStyle = "#999";
        ctx.lineWidth = 1.2;
        n.children.forEach(ch => {
            ctx.beginPath();
            ctx.moveTo(x + n.w, n.y);
            ctx.lineTo(ch.x, ch.y);
            ctx.stroke();
            drawNode(ch);
        });
    }
}
function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
}

/* ---------- ARRANQUE ---------- */
measureNode(tree, 0);
layout(tree, 80, innerHeight / 2, true);

/* centrado dinámico */
const fullW = tree.w || (tree.x + tree.w + 80);
const scale = Math.min(innerWidth / fullW, 1);
const offsetX = (innerWidth - fullW * scale) / 2;

function render() {
    ctx.clearRect(0, 0, innerWidth, innerHeight);
    ctx.save();
    ctx.translate(offsetX, 0);
    ctx.scale(scale, 1);
    drawNode(tree);
    ctx.restore();
}
render();
</script>
</body>
</html>
Podría no me carga en preview
Copy
Share
Avatar
Kimi
A veces el “preview” de ciertos editores/IDEs bloquea scripts locales por seguridad (Canvas + JS).
Asegúrate de:
Guardar el archivo con extensión .html (p. ej. mindmap.html).
Abrirlo directamente en el navegador (doble clic o arrastrar sobre la ventana del navegador).
Si usas VS Code, instala la extensión “Live Server” y pulsa “Go Live”; así se sirve por HTTP y evita el bloqueo de CORS.
Si aún así no ves nada, prueba esta versión reducida (mismo dibujo, menos código) que encaja en un único archivo y pesa < 5 KB; cópiala, guárdala y ábrela en el navegador:
HTML
Preview
Copy
<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>MindMap – Grupo A</title>
<style>body{margin:0;background:#f5f7fa;font:14px/1.4 "Segoe UI",sans-serif}#c{display:block}</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const canvas=document.getElementById('c'),ctx=canvas.getContext('2d');
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
resize();addEventListener('resize',resize);
const colors={root:'#4a90e2',tema:'#50c878',pers:'#f5a623',leaf:'#e0e0e0'};
const data={text:'Grupo A: Experiencias Artísticas y Bienestar en Salud Mental',color:colors.root,
children:[
{text:'Tema 1: Vida Cotidiana, Malestares y Estrategias para Sostenerse',color:colors.tema,children:[
{text:'Violeta',color:colors.pers,children:[
{text:'Malestar: Tesis prolongada (3 años, "gran malestar")',color:colors.leaf},
{text:'Rutina: Desorganizada, "corriendo", cansancio al despertar',color:colors.leaf},
{text:'Estrategias: Ignorar/insistir en tesis, guitarra, poemas, "tomar oncecita"',color:colors.leaf},
{text:'Consumo: Marihuana como estrategia y problema',color:colors.leaf}]},
{text:'Humberto',color:colors.pers,children:[
{text:'Rutina: Tareas domésticas, mandados, estudio personal',color:colors.leaf},
{text:'Bienestar: Lectura como gusto adquirido, "estar ocupado"',color:colors.leaf}]},
{text:'Celeste',color:colors.pers,children:[
{text:'Rutina: Doméstica (almuerzo, atender marido, descansar)',color:colors.leaf},
{text:'Malestar: Inseguridad social ("no se puede salir confiado")',color:colors.leaf},
{text:'Bienestar: Familia sana y tranquila',color:colors.leaf}]},
{text:'Gabriela',color:colors.pers,children:[
{text:'Autovalencia: Gestiones sola (compras, médico)',color:colors.leaf},
{text:'Estrategias: Distancia de conflictos, refugio en casa y animales',color:colors.leaf}]}]},
{text:'Tema 2: Redes de Cuidado, Desamparo y Experiencias de Desigualdad',color:colors.tema,children:[
{text:'Violeta',


K2
HTML
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MindMap – Grupo A</title>
    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", sans-serif;
            background: #f5f7fa;
            overflow: hidden;
        }
        #canvas {
            width: 100vw;
            height: 100vh;
        }
    </style>
<base target="_blank">
</head>
<body>
<canvas id="canvas"></canvas>

<script>
/* ---------- CONFIGURACIÓN ---------- */
const NODE_W = 220;          // ancho caja texto
const NODE_H = 36;           // alto caja texto
const LEVEL_GAP = 280;       // distancia horizontal entre niveles
const SIB_GAP = 14;          // separación vertical entre hermanos
const FONT = "14px Segoe UI";
const ROOT_COLOR = "#4a90e2";
const TEMA_COLOR = "#50c878";
const PERSON_COLOR = "#f5a623";
const LEAF_COLOR = "#e0e0e0";

/* ---------- DATOS (árbol) ---------- */
const tree = {
    text: "Grupo A: Experiencias Artísticas y Bienestar en Salud Mental",
    color: ROOT_COLOR,
    children: [
        {
            text: "Tema 1: Vida Cotidiana, Malestares y Estrategias para Sostenerse",
            color: TEMA_COLOR,
            children: [
                {
                    text: "Violeta",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Malestar: Tesis prolongada (3 años, \"gran malestar\")", color: LEAF_COLOR},
                        {text: "Rutina: Desorganizada, \"corriendo\", cansancio al despertar", color: LEAF_COLOR},
                        {text: "Estrategias: Ignorar/insistir en tesis, guitarra, poemas, \"tomar oncecita\" con familia", color: LEAF_COLOR},
                        {text: "Consumo: Marihuana como estrategia y problema", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Humberto",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Rutina: Tareas domésticas, mandados, estudio personal", color: LEAF_COLOR},
                        {text: "Bienestar: Lectura como gusto adquirido, \"estar ocupado\"", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Celeste",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Rutina: Doméstica (almuerzo, atender marido, descansar)", color: LEAF_COLOR},
                        {text: "Malestar: Inseguridad social (\"no se puede salir confiado\")", color: LEAF_COLOR},
                        {text: "Bienestar: Familia sana y tranquila", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Gabriela",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Autovalencia: Gestiones sola (compras, médico)", color: LEAF_COLOR},
                        {text: "Estrategias: Distancia de conflictos, refugio en casa y animales (\"soy feliz acá\")", color: LEAF_COLOR}
                    ]
                }
            ]
        },
        {
            text: "Tema 2: Redes de Cuidado, Desamparo y Experiencias de Desigualdad",
            color: TEMA_COLOR,
            children: [
                {
                    text: "Violeta",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Apoyo: Madre (\"confío en ella para todo\")", color: LEAF_COLOR},
                        {text: "Conflicto: Hermanas (distancia, no saludan)", color: LEAF_COLOR},
                        {text: "Percepción: Si \"débil\", otros \"pasan sobre ti\"", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Humberto",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Apoyo: Familia y amigos (conversar, relajarse)", color: LEAF_COLOR},
                        {text: "Crítica: Desigualdad económica (\"más dinero = ventajas\"), brechas de discriminación", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Celeste",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Apoyo: Familia (hijos, nietos, marido) y grupo de señoras (conversar, tomar once)", color: LEAF_COLOR},
                        {text: "Malestar: Inseguridad y violencia social", color: LEAF_COLOR},
                        {text: "Cambio: Diversidades antes \"mal vistas\", ahora menos estigma", color: LEAF_COLOR}
                    ]
                },
                {
                    text: "Gabriela",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Desamparo: Infancia \"pobre del cuidado\", no material", color: LEAF_COLOR},
                        {text: "Relaciones: Tensas con hermanas, no \"amigas de partner\"", color: LEAF_COLOR},
                        {text: "Discriminación: Laboral por edad (\"confunden vejez con estupidez\")", color: LEAF_COLOR}
                    ]
                }
            ]
        },
        {
            text: "Tema 3: Taller y Arte como Espacio de Cuidado, Activación y Reconfiguración Subjetiva",
            color: TEMA_COLOR,
            children: [
                {
                    text: "Llegada al Taller",
                    color: PERSON_COLOR,
                    children: [
                        {text: "Mediación: Derivados de salud mental (ambulatorio, psicóloga) o sindicato", color: LEAF_COLOR},
                        {text: "Ejemplos: Violeta (teatro-terapia), Celeste", color: LEAF_COLOR}
                    ]
                }
            ]
        }
    ]
};

/* ---------- DIBUJO ---------- */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = innerWidth * devicePixelRatio;
    canvas.height = innerHeight * devicePixelRatio;
    canvas.style.width = innerWidth + "px";
    canvas.style.height = innerHeight + "px";
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.scale(devicePixelRatio, devicePixelRatio);
}
resize();
addEventListener("resize", resize);

/* cálculo de bounding-box para centrar */
function measureNode(n, level) {
    ctx.font = FONT;
    const metrics = ctx.measureText(n.text);
    n.w = Math.max(NODE_W, metrics.width + 24);
    n.h = NODE_H;
    n.level = level;
    n.x = 0;
    n.y = 0;
    if (!n.children) return {w: n.w, h: n.h};
    let totalH = 0;
    let maxChildW = 0;
    n.children.forEach(ch => {
        const box = measureNode(ch, level + 1);
        totalH += box.h + SIB_GAP;
        maxChildW = Math.max(maxChildW, box.w);
    });
    totalH -= SIB_GAP;
    n.childrenH = totalH;
    n.childrenW = maxChildW;
    return {w: n.w + LEVEL_GAP + maxChildW, h: Math.max(n.h, totalH)};
}

/* asigna coordenadas relativas al nodo padre */
function layout(n, xRef, yRef, isRoot) {
    n.x = xRef;
    n.y = yRef;
    if (!n.children) return;
    let yStart = yRef - n.childrenH / 2;
    n.children.forEach(ch => {
        const chBox = {w: ch.w || NODE_W, h: ch.h || NODE_H};
        if (ch.children) chBox.h = ch.childrenH;
        layout(ch, xRef + n.w + LEVEL_GAP, yStart + chBox.h / 2, false);
        yStart += chBox.h + SIB_GAP;
    });
}

/* renderiza */
function drawNode(n) {
    const x = n.x, y = n.y - n.h / 2;
    /* caja */
    ctx.fillStyle = n.color;
    roundRect(x, y, n.w, n.h, 6);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();
    /* texto */
    ctx.fillStyle = n.color === LEAF_COLOR ? "#222" : "#fff";
    ctx.font = FONT;
    ctx.fillText(n.text, x + 12, y + 22);
    /* líneas a hijos */
    if (n.children) {
        ctx.strokeStyle = "#999";
        ctx.lineWidth = 1.2;
        n.children.forEach(ch => {
            ctx.beginPath();
            ctx.moveTo(x + n.w, n.y);
            ctx.lineTo(ch.x, ch.y);
            ctx.stroke();
            drawNode(ch);
        });
    }
}
function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
}

/* ---------- ARRANQUE ---------- */
measureNode(tree, 0);
layout(tree, 80, innerHeight / 2, true);

/* centrado dinámico */
const fullW = tree.w || (tree.x + tree.w + 80);
const scale = Math.min(innerWidth / fullW, 1);
const offsetX = (innerWidth - fullW * scale) / 2;

function render() {
    ctx.clearRect(0, 0, innerWidth, innerHeight);
    ctx.save();
    ctx.translate(offsetX, 0);
    ctx.scale(scale, 1);
    drawNode(tree);
    ctx.restore();
}
render();
</script>
</body>
</html>
